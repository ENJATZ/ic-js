set -eux
rm -fr my-svelte-project
npx degit sveltejs/template my-svelte-project
cd my-svelte-project
npm install --save ..

mv src/main.js src/main.js.original
{
	echo 'import { AccountIdentifier } from "@dfinity/nns";'
  cat src/main.js.original
  cat <<-EOF
		const accountIdentifier = AccountIdentifier.fromHex(
				"a2a794c66495083317e4be5197eb655b1e63015469d769e2338af3d3e3f3aa86"
		);

		console.log("Account Identifier");
		console.log(accountIdentifier.toHex());
		EOF
} > src/main.js

npm run build

echo ======================================================
echo STARTING SVELTE APP
echo PLEASE OPEN THE APP IN YOUR BROWSER AND VERIFY THAT IT DISPLAYS CORRECTLY AND HAS PRINTED AN ACCOUNT IDENTIFIER IN THE CONSOLE
echo ======================================================

npm start
